{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/enesbayraktar/Workspace/sistemgranit/app/env.ts"],"sourcesContent":["import { createEnv } from '@t3-oss/env-nextjs';\nimport { z } from 'zod';\n\nexport const env = createEnv({\n  server: {\n    SUPABASE_SERVICE_ROLE_OR_SECRET_KEY: z.string().min(1),\n  },\n  client: {\n    NEXT_PUBLIC_SUPABASE_URL: z.string().url(),\n    NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY: z.string().min(1),\n  },\n  experimental__runtimeEnv: {\n    NEXT_PUBLIC_SUPABASE_URL: process.env.NEXT_PUBLIC_SUPABASE_URL,\n    NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY: process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY,\n  },\n});\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,MAAM,IAAA,0KAAS,EAAC;IAC3B,QAAQ;QACN,qCAAqC,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IACtD;IACA,QAAQ;QACN,0BAA0B,kLAAC,CAAC,MAAM,GAAG,GAAG;QACxC,sCAAsC,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IACvD;IACA,0BAA0B;QACxB,wBAAwB;QACxB,oCAAoC;IACtC;AACF"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///Users/enesbayraktar/Workspace/sistemgranit/supabase/server.ts"],"sourcesContent":["import { env } from \"@/app/env\";\nimport { createServerClient } from \"@supabase/ssr\";\nimport { cookies } from \"next/headers\";\nimport type { Database } from \"./types\";\n\n/**\n * Server-side Supabase client oluşturur.\n * Server Components, Route Handlers ve Server Actions için kullanılır.\n *\n * @important Fluid compute kullanıyorsanız: Bu client'ı global bir değişkene\n * atamayın. Her fonksiyon içinde yeni bir client oluşturun.\n *\n * @returns Typed Supabase client\n *\n * @example\n * ```ts\n * const supabase = await createClient();\n * const { data } = await supabase.from('users').select('*');\n * ```\n */\nexport async function createClient() {\n  const cookieStore = await cookies();\n\n  return createServerClient<Database>(\n    env.NEXT_PUBLIC_SUPABASE_URL,\n    env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll();\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options),\n            );\n          } catch {\n            // setAll method was called from a Server Component.\n            // This can be ignored if you have proxy refreshing user sessions.\n          }\n        },\n      },\n    },\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;AAkBO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,EACvB,iHAAG,CAAC,wBAAwB,EAC5B,iHAAG,CAAC,oCAAoC,EACxC;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,oDAAoD;gBACpD,kEAAkE;gBACpE;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///Users/enesbayraktar/Workspace/sistemgranit/actions/analytics/track.ts"],"sourcesContent":["\"use server\";\n\nimport { createClient } from \"@/supabase/server\";\nimport { PageViewData, EventData, SessionData } from \"@/lib/analytics/types\";\n\nexport async function logPageView(\n  data: PageViewData,\n  sessionData?: Partial<SessionData>,\n  isNewSession: boolean = false,\n) {\n  const supabase = await createClient();\n\n  try {\n    // 1. Log Page View\n    const { error: pvError } = await supabase.from(\"page_views\").insert(data);\n    if (pvError) {\n      console.error(\"[Server Action] Page view insert failed:\", pvError);\n    }\n\n    // 2. Handle Session\n    if (sessionData) {\n      if (isNewSession) {\n        // Create new session\n        const { error: sessionError } = await supabase\n          .from(\"sessions\")\n          .insert(sessionData as any);\n        if (sessionError)\n          console.error(\"[Server Action] Session insert failed:\", sessionError);\n      } else {\n        // Update existing session\n        const { id, ...updateData } = sessionData;\n\n        if (id) {\n          const { error: updateError } = await supabase\n            .from(\"sessions\")\n            .update(updateData)\n            .eq(\"id\", id);\n\n          if (updateError)\n            console.error(\n              \"[Server Action] Session update failed:\",\n              updateError,\n            );\n        }\n      }\n    }\n  } catch (error) {\n    console.error(\"[Server Action] Analytics error:\", error);\n  }\n}\n\nexport async function logEvent(data: EventData) {\n  const supabase = await createClient();\n  try {\n    const { error } = await supabase\n      .from(\"analytics_events\")\n      .insert(data as any);\n    if (error) console.error(\"[Server Action] Event insert failed:\", error);\n  } catch (e) {\n    console.error(\"[Server Action] Event log error:\", e);\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;;AAGO,eAAe,YACpB,IAAkB,EAClB,WAAkC,EAClC,eAAwB,KAAK;IAE7B,MAAM,WAAW,MAAM,IAAA,kIAAY;IAEnC,IAAI;QACF,mBAAmB;QACnB,MAAM,EAAE,OAAO,OAAO,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,cAAc,MAAM,CAAC;QACpE,IAAI,SAAS;YACX,QAAQ,KAAK,CAAC,4CAA4C;QAC5D;QAEA,oBAAoB;QACpB,IAAI,aAAa;YACf,IAAI,cAAc;gBAChB,qBAAqB;gBACrB,MAAM,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,SACnC,IAAI,CAAC,YACL,MAAM,CAAC;gBACV,IAAI,cACF,QAAQ,KAAK,CAAC,0CAA0C;YAC5D,OAAO;gBACL,0BAA0B;gBAC1B,MAAM,EAAE,EAAE,EAAE,GAAG,YAAY,GAAG;gBAE9B,IAAI,IAAI;oBACN,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,SAClC,IAAI,CAAC,YACL,MAAM,CAAC,YACP,EAAE,CAAC,MAAM;oBAEZ,IAAI,aACF,QAAQ,KAAK,CACX,0CACA;gBAEN;YACF;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;IACpD;AACF;AAEO,eAAe,SAAS,IAAe;IAC5C,MAAM,WAAW,MAAM,IAAA,kIAAY;IACnC,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,oBACL,MAAM,CAAC;QACV,IAAI,OAAO,QAAQ,KAAK,CAAC,wCAAwC;IACnE,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC,oCAAoC;IACpD;AACF;;;IAxDsB;IA8CA;;AA9CA,+OAAA;AA8CA,+OAAA"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///Users/enesbayraktar/Workspace/sistemgranit/.next-internal/server/app/%5Blocale%5D/%28public%29/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {logPageView as '704f1b92c7a32a1143fcfc47d8133bc9306b58942e'} from 'ACTIONS_MODULE0'\nexport {logEvent as '40139ff6f2586c9ce61eb8d197a3194f55cb6697d8'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}